<!DOCTYPE html>
<html lang="en">
<head>
    <title>SKROT</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="client/html/css/base.css" />
    <script src="./libs/ammo/ammo.wasm.js"></script>
    <script src="client/js/data_pipeline/worker/WorkerMain.js"></script>

    <script type="importmap">
			{
				"imports": {
					"three": "./libs/three/Three.WebGPU.js",
					"three/webgpu": "./libs/three/Three.WebGPU.js",
					"three/tsl": "./libs/three/Three.TSL.js",
					"three/addons/": "./libs/jsm/"
				}
			}
		</script>

    <script type="module">

        import {Client} from './client/js/Client.js'
        import {initPipelineAPI} from "./client/js/application/utils/DataUtils.js";
        import {ThreeAPI} from "./client/js/3d/three/ThreeAPI.js";
        import {GameScreen} from "./client/js/application/ui/GameScreen.js";

        let client = new Client();

        function indexLoaded(index) {
            client.initClient();
        }

        function pipeReady(e) {
            client.loadDataIndex(indexLoaded);
        }

        window.GameScreen = new GameScreen();
        window.ThreeAPI = new ThreeAPI();

        initPipelineAPI(pipeReady)


    </script>

</head>

<body id="canvas_window"></body>
</html>
